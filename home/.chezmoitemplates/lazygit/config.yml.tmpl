#reference from https://github.com/scottmckendry/Windots/blob/main/lazygit/config.yml

notARepository: skip
disableStartupPopups: true

update:
  method: never
  days: 14

gui:
  nerdFontsVersion: '3'
  border: rounded
  mouseEvents: true
 # Use the mocha catppuccin theme
  theme:
    activeBorderColor:
      - '#89b4fa'
      - bold
    inactiveBorderColor:
      - '#a6adc8'
    optionsTextColor:
      - '#89b4fa'
    selectedLineBgColor:
      - '#313244'
    cherryPickedCommitBgColor:
      - '#45475a'
    cherryPickedCommitFgColor:
      - '#89b4fa'
    unstagedChangesColor:
      - '#f38ba8'
    defaultFgColor:
      - '#cdd6f4'
    searchingActiveBorderColor:
      - '#f9e2af'


git:
  parseEmoji: true
{{ if ne .chezmoi.os "windows" }}
  paging:
    pager: delta --paging=never
    colorArg: always
{{ end }}

customCommands:
  - key: 'E'
    context: 'files'
    command: 'vim {{ "{{" }} .SelectedFile.Name | quote {{ "}}" }}'
    description: 'Edit with vim'
    loadingText: 'Editing with vim'
    output: terminal

  - key: 'F'
    context: 'files'
    command: 'git f' # require alias f = git add -A && git commit -m \"chore(save): $(curl -s -f https://whatthecommit.com/index.txt || \"save point\")\" && push origin HEAD
    description: 'Auto add all, commit, push (finish)'
    loadingText: 'Finishing'

  - key: 'F'
    context: 'localBranches, remoteBranches, remotes'
    command: 'git fetch --prune'
    description: 'Fetch prune branches'
    loadingText: 'Pruning branches'

  - key: 'F'
    context: 'tags'
    command: 'git fetch --prune-tags'
    description: 'Fetch prune tags'
    loadingText: 'Pruning tags'

  - key: 'G'
    context: 'global'
    # command: 'git gcc' # set alias for git gcc = "git reflog expire --all --expire=now && git gc --prune=now --aggressive"
    command: 'git reflog expire --all --expire=now && git gc --prune=now --aggressive'
    description: 'clean up unnecessary files, reflog, optimize'
    prompts:
      - type: 'confirm'
        title: 'Cleanup'
        body: 'Are you sure you want to unnecessary files, reflog, optimize the repo?'
    loadingText: 'Cleaning up'
    output: log

  - key: 'u'
    context: 'files'
    command: 'git rm --cached {{ "{{" }} .SelectedFile.Name | quote {{ "}}" }}'
    description: 'Untrack a file'
    prompts:
      - type: 'confirm'
        title: 'Untrack'
        body: 'Are you sure you want to untrack {{ "{{" }} .SelectedFile.Name | quote {{ "}}" }}?'
    loadingText: 'Untracking file'

  - key: '<c-r>'
    context:  'files'
    command: 'git read-tree --empty && git rm --cached -r . && git add .'
    description: 'normalise follow git attributes'
    prompts:
      - type: 'confirm'
        title: 'Normalise'
        body: 'Are you sure you want to normalise follow git attributes?'
    loadingText: 'Normalising files'
