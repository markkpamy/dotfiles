# Topgrade Configuration
# Cross-platform system upgrade tool
# https://github.com/topgrade-rs/topgrade

[misc]
# Run upgrades in parallel when possible
assume_yes = true
cleanup = true
display_time = true
no_retry = false
run_in_tmux = false
tmux_arguments = "-S /tmp/topgrade"

# Behavior
disable = ["vim", "chezmoi", "uv"]
# "system",           # Disable OS updates
# "brew_formula",     # Disable Homebrew formulas
# "cargo",            # Disable Cargo updates


# Ignore failures for specific steps
ignore_failures = [
# "gems",             # Ignore gem update failures
# "npm",              # Ignore npm update failures
]

# Post-hooks run after all upgrades
# post_commands = [# "echo 'Topgrade completed!'"]

[pre_commands]
# Commands to run before specific steps

[post_commands]
# Commands to run after specific steps

{{- if eq .chezmoi.os "windows" }}
# Windows-specific configuration
[windows]
# Enable Windows features
accept_all_updates = false
open_remotes_in_new_terminal = true


{{- else }}
# Linux/Unix-specific configuration

# Package managers
[linux]
# Use sudo for package managers that need it

# Flatpak
[flatpak]
use_sudo = false

# Homebrew (if installed on Linux)
[brew]
# Use system Homebrew if available
autoremove = true
{{- end }}


# Node.js npm
[npm]
use_sudo = false

# Docker
[containers]
# Update Docker images

# Step configuration
[commands]
# Custom commands to run during upgrade
